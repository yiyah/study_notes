# IP 地址

## 一、交换机和路由器

1. 局域网：一般称为内网。
2. 简单局域网的构成：交换机、网线、PC。
3. 交换机：用来组建内网的局域网设备。
4. 路由器：用来连接外网。

## 二、IP 地址

1. IP 地址是类似 x.x.x.x 最小是 0.0.0.0 最大是 255.255.255.255。（因为它是32位二进制数表示）。
2. IP 地址由两部分组成：网络部分+主机部分。
3. IP 地址就是一个唯一标识，是一段网络编码，由 32 位组成。
4. 回环地址：127.0.0.1（访问自己）

## 三、子网掩码

1. 有 IP 的地方必须配一个子网掩码！

2. 局域网通信规则：在同一个局域网中，所有的 IP 必须在同一网段中才可以互相通信！

3. IP 地址构成：网络位 + 主机位（网络位相同的 IP 地址，为同一网段）

4. 子网掩码：用来确定 IP 地址的网络位。（与 255 对应的数字为网络位，与 0 对应的数字为主机位）

    一般有这么三种：

    * 255.0.0.0
    * 255.255.0.0
    * 255.255.255.0

5. IP 地址分类

    五大类

    * A 类: 1-126，默认子网掩码：255.0.0.0
    * B 类 128-191，默认子网掩码：255.255.0.0
    * C 类 192-223，默认子网掩码：255.255.255.0
    * D 类 224-229 组播地址（前面三类都是 单播地址，即一个IP只能给一个人使用。组播地址给一组人使用）
    * E 类 240-254 科研使用

6. 当主机位全为 0 的时候，该 IP 地址称为网段地址，也就是该网段的总称。

    例如：IP：10.1.1.1 子网掩码：255.255.255.0

    * 10.1.1.1 属于 10.1.1.0 这个网段

7. 当主机位全为 255 的时候，该 IP 地址称为该网段的广播地址。（255.255.255.255 称为全局广播地址）

8. 127.0.0.1 称作回环地址，一般用于测试，比如搭了个服务器自己访问，或者 ping 下自己，不通的话网卡可能坏了。

## 四、网关

网关：一个网络的出口，Gateway = GW ，一般网关是在路由器上。

路由器：连接内外网的设备。

一般地址是网段的第一位或者最后一位。

* PC 向外发包的心理活动

    ① 首先判断目标 IP 地址与自己是否在同一网段
    ② 如在同一网段，则直接发出去，而不找网关。
    ③ 如不在同一网段，则直接发包给网关。

## 五、DNS

DNS: Domain Name Service 域名服务

浏览器解析域名时请求域名解析器服务

* 首先问自己，可能自己以前访问过呢？这叫 DNS 缓存。（这个东西放在内存里的，时间长就会清掉了）
* 然后问本地解析文件 “host” 。
* 最后问 DNS 服务器。

通用的 DNS 服务器地址：114.114.114.114 （中国）or 8.8.8.8 （美国）

## 六、网络测试命令

1. 如何查看 IP 地址

 首先进入 cmd 命令窗口

* `ipconfig`     查看 IP 地址基本信息
* `ipconfig /all`   查看 IP 地址详细信息（含DNS）

1. 测试网络连通性

* `ping 目标IP`            # 测试网络连通性，有去有回
* `ping -t 目标IP`             # 一直 ping
* `ping -n 数字 目标IP`    # 修改 ping 包的数量
* `ping -l 数字 目标IP`     # 修改 ping 包的大小

 注意：如 ping 不通，可能对方不在线或者开防火墙。

1. 手工解析域名

* `nslookup www.baidu.com` 手工解析域名的 IP 地址
