# APP 怎么读取按键值

1. 读取按键的 4 种方式（驱动）

    ① 查询方式
        妈妈时不时进房间看孩子

    ② 休眠 - 唤醒方式
        进房间陪孩子一起睡，小孩醒了会吵醒她，但是妈妈干不了其他活

    ③ poll 方式
        实现两个函数：poll 和 read(有app 调用)
        poll: 可以设置 timeout, 当有数据的时候，poll 返回一个 state 来告诉 app 有数据，app 通过 read 来读取按键数据。到 timeout 的时候没有数据就会返回 state 告诉 app 没数据。然后就结束了。

    ④ 异步通知方式
    * 小孩醒了自己告诉妈妈
    * 驱动可以发送消息给应用，解决四个问题：谁发，发什么，发给谁，接收方做什么
    * 实现 fasync（设置 F_SETFL 后由 kernel 调用）

2. APP 读取按键的方式

    阻塞：没数据，休眠到有数据
    非阻塞：没数据，马上返回
    休眠
    poll
    异步通知
