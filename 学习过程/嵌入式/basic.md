# 基础

[TOC]

## 字符编码

ASCII编码、ANSI编码这些都是用特定的值来表示字符。
但是因为ANSI编码只考虑英文，对于其他国家的字符就会有点不一样了，比如0xd0d6在大陆显示中，在台湾就显示笢。即一个值对应不同字符。这时候要正常显示就需要以这个文档最初创建的字符集来打开！

## 编译问题

是因为在系统目录找不到该文件，系统目录在哪？`echo 'main(){}'|gcc -E -v -`

* 头文件找不到

  找不到头文件 `-I /xx`

* 函数未定义

  找不到库     `-lxx -L /xxx`  

## 运行问题

运行程序找不到库，库在哪？

1. 系统目录：`/lib` `/usr/lib`
2. 自己指定 `export LD_LIBRARY_PATH=/xxx_dir`

## 交叉编译其他东西

当有时候要编译一个软件到arm上，但是需要依赖其他头文件和库，就得手工把相应的文件下载下来后进行交叉编译。把编译好的头文件和库复制到“系统路径”或者编译器能找到的路径。

当复制库文件的时候需要注意：链接文件使用 `cp -drf * /dts_dir` 进行复制

万能编译命令：`./configure --host=arm-linux-gnueabihf- --prefix=$PWD/tmp` `make` `make install` （注意 host 根据目标调整，编译工具链的名字前缀）
然后把 `$PWD/tmp` 下的头文件和库都复制到系统目录

## 虚拟地址和物理地址

![看不到图是科学问题](https://raw.githubusercontent.com/yiyah/Picture_Material/master/20210613101313.png)

cpu 想要访问物理地址，经过 MMU （根据 PID）转换成 虚拟地址，访问这个 虚拟地址 才可以访问到物理地址。

* MMU 功能：地址映射 和 权限保护
