# 编程规范

[toc]

可参考 Doxygen

⚠️

```text
![看不到图片是科学问题](https://raw.githubusercontent.com/yiyah/Picture_Material/master/)
```

## 一、判断的时候，变量和常量位置顺序

* 把 不能赋值的 放在 左边。

```c++
// MFC 中一个例子
// 如果 “==” 写成了 “=” 那么，该条件会一直成立。程序不会报错，但是BUG难找
if(str == pList ->GetItemText())
{
    ...
}
// 为了避免此错误，把不能赋值的放在左边，即使写成了 “=”，编译的时候，或者程序运行的时候，就会报错
if(pList ->GetDlgItemText() == str)
{
    ...
}
```

## 二、代码注释

### 2.1 stm32

c文件注释

```c
/**
  ******************************************************************************
  * @file     BLDC_6step.c
  * @author   HZH
  * @version  V1.0
  * @date     29-December-2020
  * @brief    有感无刷电机驱动程序
  ******************************************************************************
  * @attention
  *
  * 可以在此添加开源协议
  * 
  * <h2><center>&copy; Copyright (c) 2020 HZH. All rights reserved.</center></h2>
  ******************************************************************************
  */


// 简单版
/**
  * @brief 运行 有感无刷电机
  * @retval None
  */
void BLDC_6step_Run(uint8_t dir, uint16_t pwm){}

// 详细版
/**
  * --------------------------------------------------------
  * @brief     运行 有感无刷电机
  *
  * @note      该函数根据 六步换向法 进行驱动电机
  *
  * @param     dir[IN]  转动方向：控制无刷电机的转动方向。
                  @arg 0：正转
                  @arg 1：反转
  * @param     pwm[IN]  转动速度：使用 pwm 控制电机转速
                  @arg 0~1000 占空比 的数值范围
  * @retval    None
  * @usage     BLDC_6step_Run(0, 300);
  * --------------------------------------------------------
  */
void BLDC_6step_Run(uint8_t dir, uint16_t pwm){}

/*************端口信息********************
 * ------------LED--------------------
 *
 * C2 C3
 *
 * ------------KEY--------------------
 *  
 * A0 C13
 *
 * ------------UART--------------------
 *
 * UART1 TX A9, RX A10
 *
 * ------------TIM--------------------
 *
 * TIM2 电机PWM  TIM2_CH3 -->PB10   TIM2_CH4 -->PB11
 * TIM3 右编码器 tim3_ch1 ->PA6 tim3_ch2 ->PA7 （靠近 VCC 的是 A 相）
 * TIM4 左编码器 tim4_ch1 ->PB6 tim4_ch2 ->PB7
 * TIM5 舵机 PWM TIM5_CH3 --> PA2
 * Tim6 作定时器用，控制周期
 *
 * ------------MOTO--------------------
 *
 * PC4 PC5 PC6 PC7 正反转控制端
 *
 ******************************************************************************
 * @attention
 *
 * 如果修改了定时器时间，或者是 获取编码器值的时间，会导致 脉冲数在单位时间的值 内发生变化。
 * 所以，某些 需要更改 根据脉冲数 进行计算的变量。如：pid参数，根据脉冲计算当前速度。
 *
 *****************************************/
```


头文件注释
```c
/**
  ******************************************************************************
  * @file     BLDC_6step.h
  * @author   HZH
  * @version  V1.0
  * @date     29-December-2020
  * @brief    有感无刷电机驱动程序的头文件
  ******************************************************************************
  * @attention
  *
  * <h2><center>&copy; Copyright (c) 2020 HZH. All rights reserved.</center></h2>
  * 
  ******************************************************************************
  */


#ifndef __BLDC_6STEP_H
#define __BLDC_6STEP_H

#include "stm32g4xx_hal.h"

uint8_t GetBldcHall(void);
void BLDC_6step_Run(uint8_t dir, uint16_t pwm);
void BLDC_test(uint16_t pwm);

#endif

/************************ (C) COPYRIGHT HZH *****END OF FILE****/
```


### shell

```shell
# ================================================
# @version  2020/04/24-1.0
# @abstract 简介，概念
# ================================================
```

## 三、Markdown 编写规范

```markdown

# Title

---

Creation Date: xxxx-xx-xx

---

[TOC]

## 参考

1. [代码的版权怎么写](http://blog.sina.com.cn/s/blog_47642c6e0102vgw3.html)

## X、更新说明

1. 2020/06/09 更新：
    * 补充环境配置
    * 补充问题说明
2. 2020/06/04 更新：
    * 补充安装 OpenNI 的依赖说明
3. 2020/05/29 更新：
    * 修改 NITE 版本编写错误。
    * 优化 `4.3` 测试代码。
    * 增加问题说明

```
